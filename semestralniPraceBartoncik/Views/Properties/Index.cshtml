@model IEnumerable<Property>
@{
    ViewData["Title"] = "Properties";
}

<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>Properties</h1>
  <a class="btn btn-primary" href="/Properties/Create">
     Create New Property
    </a>
</div>

@if (!Model.Any())
{
    <div class="alert alert-info">
        <strong>No properties found.</strong> Click "Create New Property" to add your first property.
    </div>
}
else
{
    <div class="table-responsive">
   <table class="table table-striped table-hover">
    <thead class="table-dark">
     <tr>
                    <th>Title</th>
      <th>Address</th>
    <th>Owner</th>
       <th class="text-end">Actions</th>
                </tr>
            </thead>
    <tbody>
           @foreach (var property in Model)
     {
               <tr>
<td>
    <strong>@property.Title</strong>
         </td>
        <td>@property.Address</td>
         <td>
  @if (property.Owner != null)
     {
      <span>@property.Owner.Name</span>
     <br />
              <small class="text-muted">@property.Owner.Email</small>
          }
  else
               {
   <span class="text-muted">No owner assigned</span>
            }
   </td>
            <td class="text-end">
         <div class="btn-group" role="group">
    <a class="btn btn-sm btn-outline-primary" href="/Properties/Details/@property.Id" title="View Details">
    Details
             </a>
         <a class="btn btn-sm btn-outline-secondary" href="/Properties/Edit/@property.Id" title="Edit">
    Edit
   </a>
        <a class="btn btn-sm btn-outline-danger" href="/Properties/Delete/@property.Id" title="Delete">
         Delete
          </a>
          </div>
    </td>
     </tr>
 }
            </tbody>
</table>
 </div>

    <div class="mt-3">
      <p class="text-muted">Total: @Model.Count() properties</p>
 </div>
}